(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-680cd1f8"],{"206d":function(e,t,r){"use strict";var s=r("4413"),a=r.n(s);a.a},4413:function(e,t,r){},a55b:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-form",{ref:"form",staticClass:"form form--login",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{rules:e.emailRules,label:"Email",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-text-field",{attrs:{primary:"",type:"password",rules:e.passwordRules,label:e.$t("forms.password"),required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.loading?r("preloader",{attrs:{small:!0}}):r("p",{staticClass:"error-text"},[e._v(" "+e._s(e.error)+" ")]),r("router-link",{staticClass:"form__additional-text",attrs:{to:"/register"}},[e._v(" Do not have account yet? Register ")]),r("button",{staticClass:"form__btn",attrs:{disabled:e.loading},on:{click:function(t){return t.preventDefault(),e.login(t)}}},[e._v(" "+e._s(e.$t("forms.submit"))+" ")])],1)},a=[],n=(r("96cf"),r("89ba")),i=r("c5b9"),o={name:"login-form",data:function(){var e=this;return{email:"",password:"",loading:!1,error:"",valid:!1,emailRules:[function(t){return!!t||e.$t("rules.required")},function(t){return/.+@.+/.test(t)||e.$t("rules.emailValid")}],passwordRules:[function(t){return!!t||e.$t("rules.required")},function(t){return/(?=.{8,})(?=.*?[0-9])(?=.*?[A-Z]).*?[a-z].*/.test(t)||e.$t("rules.password")}]}},methods:{login:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.error="",this.loading=!0,!this.$refs.form.validate()){e.next=12;break}return e.next=6,i["a"].login({email:this.email,password:this.password});case 6:return t=e.sent,r=t.data.token,e.next=10,this.$store.dispatch("setToken",r);case 10:return e.next=12,this.$router.push({path:"/"});case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](0),this.loading=!1,this.error=e.t0;case 18:case"end":return e.stop()}}),e,this,[[0,14]])})));function t(){return e.apply(this,arguments)}return t}()}},l=o,u=(r("206d"),r("2877")),c=Object(u["a"])(l,s,a,!1,null,null,null);t["default"]=c.exports},c5b9:function(e,t,r){"use strict";var s=r("bc3a"),a=r.n(s),n=r("ce99"),i=function(){var e=a.a.create({});return e.interceptors.response.use((function(e){return e}),n["a"]),e};t["a"]={register:function(e){return i().post("users/register",e)},login:function(e){return i().post("users/authenticate",e)}}}}]);
//# sourceMappingURL=chunk-680cd1f8.e24d1971.js.map